var A=Object.defineProperty,b=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var h=(n,e,t)=>e in n?A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,o=(n,e)=>{for(var t in e||(e={}))D.call(e,t)&&h(n,t,e[t]);if(m)for(var t of m(e))O.call(e,t)&&h(n,t,e[t]);return n},a=(n,e)=>b(n,L(e));import{c as y,j as i,e as U,a as B,b as R,R as M,d as C,P as _}from"./vendor.77ee2fbd.js";const $=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const g of s.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};$();function k({sign:n,dispatch:e}){function t(){e({type:"APPEND_DISPLAY",append:n.sign})}return i("button",{id:n.id,onClick:t,children:n.sign})}var Y=y()(k);function j({display:n,dispatch:e}){function t(){const u=U(n);e({type:"SET_DISPLAY",display:u})}return i("button",{id:"equals",onClick:t,children:"="})}const q=n=>({display:n.display});var x=y(q)(j);function G({dispatch:n}){function e(){n({type:"SET_DISPLAY",display:"0"})}return i("button",{id:"clear",onClick:e,children:"clear"})}var Z=y()(G);const z=[{sign:"0",id:"zero"},{sign:"1",id:"one"},{sign:"2",id:"two"},{sign:"3",id:"three"},{sign:"4",id:"four"},{sign:"5",id:"five"},{sign:"6",id:"six"},{sign:"7",id:"seven"},{sign:"8",id:"eight"},{sign:"9",id:"nine"},{sign:"+",id:"add"},{sign:"-",id:"subtract"},{sign:"*",id:"multiply"},{sign:"/",id:"divide"},{sign:".",id:"decimal"}];function F({display:n}){return i("div",{className:"App",children:B("header",{className:"App-header",children:[z.map(e=>i(Y,{sign:e},e.id)),i(x,{}),i(Z,{}),i("div",{id:"display",children:n})]})})}const K=n=>({display:n.display});var H=y(K)(F);const J={display:""},c="SIGN",Q="DECIMAL_POINT",w="ZERO",l="NUMBER",S={SIGN:["+","-","*","/"],DECIMAL_POINT:["."],ZERO:["0"],NUMBER:["0","1","2","3","4","5","6","7","8","9"]};function d(n){for(const e in S)if(S[e].indexOf(n)!==-1)return e;throw new Error("Unknown symbol")}class E extends Error{}class T extends Error{}class v{transition(e){switch(d(e)){case c:if(e==="-")return new P;break;case l:return new f}throw new Error("Unsupported state transition")}}class f{transition(e){switch(d(e)){case c:return new I;case l:case w:return this;case Q:return new N}throw new Error("Unsupported state transition")}}class N{transition(e){switch(d(e)){case c:return new I;case l:case w:return this}throw new Error("Unsupported state transition")}}class I{transition(e){switch(d(e)){case c:if(e==="-")return new P;throw new T("Unsupported state transition");case l:return new f}throw new Error("Unsupported state transition")}}class P{transition(e){switch(d(e)){case c:throw new E("Unsupported state transition");case l:return new f}throw new Error("Unsupported state transition")}}let p=new v;function V(n,e,t){return console.log("replaceSym",n,e,t),t<0&&(t=n.length+t,console.log("index",t)),n.substr(0,t)+e+n.substr(t+e.length)}function W(n,e){const t=/[\-\+\*\/]+$/i;return n.replace(t,e)}function X(n=J,e){switch(e.type){case"SET_DISPLAY":return e.display==="0"?p=new v:Number.isInteger(e.display)?p=new f:p=new N,a(o({},n),{display:e.display});case"APPEND_DISPLAY":try{return p=p.transition(e.append),n.display==="0"?a(o({},n),{display:e.append}):a(o({},n),{display:n.display+e.append})}catch(t){return console.error(t),t instanceof E?a(o({},n),{display:W(n.display,e.append)}):t instanceof T?a(o({},n),{display:V(n.display,e.append,-1)}):n}default:return n}}var ee=R(X);M.render(i(C.StrictMode,{children:i(_,{store:ee,children:i(H,{})})}),document.getElementById("root"));
